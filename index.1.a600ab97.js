(()=>{"use strict";var e,t={187:(e,t,o)=>{o.d(t,{calculatePrice:()=>R});var r=o(38);let n,c;const l=document.querySelector(".next-button"),a=document.querySelector(".back-button"),s=document.querySelectorAll(".calculator-step"),d=document.querySelectorAll(".process-steps div"),u=document.querySelector(".next-button"),i=document.querySelector(".calculate-quote"),m=[[document.querySelector(".search-from-label input"),document.querySelector(".search-to-label input"),document.querySelector(".delivery-time input"),document.querySelector('input[name="carrier"]:checked')],[document.querySelector("#year-select"),document.querySelector("#make-select"),document.querySelector("#model-select"),document.querySelector("#operable-select")],[document.querySelector(".user-mail"),document.querySelector(".user-phone")]];let p=0,y=!1;a.addEventListener("click",(()=>{1===p&&(a.style.display="none"),d[p-1].classList.remove("completed-step"),p--,b(p)})),l.addEventListener("click",(()=>{p++,p>=s.length&&(y=!0),0!==p&&(a.style.display="block"),y||b(p),h(p-1)}));const b=e=>{s.forEach((e=>{e.style.display="none"})),d.forEach((e=>{e.classList.remove("active-step")})),d[e].classList.add("active-step"),s[e].style.display="block",e>=s.length-1?(u.style.display="none",i.style.display="block"):(u.style.display="block",i.style.display="none"),e>0&&d[e-1].classList.add("completed-step")};i.addEventListener("click",(()=>{h(p),R()}));const h=e=>{m[e].forEach((e=>{localStorage.setItem(e.dataset.type,e.value)}))};var f=o(755),S=o.n(f);o(154);const v=document.querySelector(".prev-slider-button"),g=document.querySelector(".next-slider-button");document.addEventListener("DOMContentLoaded",(()=>{S()(".slider").slick({arrows:!0,nextArrow:g,prevArrow:v})}));const k=JSON.parse('[{"year":["2015",200],"make":["BMW",300],"model":["Model 1",500],"operable":["Running",1500]},{"year":["2013",500],"make":["BENTLEY",300],"model":["Model 5",500],"operable":["Running",1500]},{"year":["2011",200],"make":["MERCEDES",500],"model":["Model 1",500],"operable":["Non-Running",3000]},{"year":["2015",200],"make":["BMW",300],"model":["Model 1",500],"operable":["Running",1500]},{"year":["2015",200],"make":["BMW",300],"model":["Model 1",500],"operable":["Running",1500]}]'),q=document.querySelector("#year-select"),E=document.querySelector("#make-select"),j=document.querySelector("#model-select"),w=document.querySelector("#operable-select"),x=[q,E,j,w],O=document.querySelector('input[name="carrier"]:checked');document.querySelector(".price"),document.querySelector(".calculate-button");let M=L.map("map").setView([40.91,-96.63],4),I=0;!function(e){new Autocomplete("from",{selectFirst:!0,howManyCharacters:2,onSearch:({currentValue:e})=>{const t=`https://nominatim.openstreetmap.org/search?format=geojson&limit=5&city=${encodeURI(e)}`;return new Promise((e=>{fetch(t).then((e=>e.json())).then((t=>{e(t.features)})).catch((e=>{console.error(e)}))}))},onResults:({currentValue:e,matches:t,template:o})=>{const r=new RegExp(e,"gi");return 0===t?o:t.map((e=>`\n          <li class="loupe">\n            <p>\n              ${e.properties.display_name.replace(r,(e=>`<b>${e}</b>`))}\n            </p>\n          </li> `)).join("")},onSubmit:({object:t})=>{e.eachLayer((function(t){t.toGeoJSON&&e.removeLayer(t)}));const{display_name:o}=t.properties,[r,c]=t.geometry.coordinates;n={lat:t.geometry.coordinates[0],lng:t.geometry.coordinates[1]},console.log("submit"),L.marker([c,r],{title:o}).addTo(e).bindPopup(o),e.setView([c,r],8)},onSelectedItem:({index:e,element:t,object:o})=>{},noResults:({currentValue:e,template:t})=>t(`<li>No results found: "${e}"</li>`)}),new Autocomplete("to",{selectFirst:!0,howManyCharacters:2,onSearch:({currentValue:e})=>{const t=`https://nominatim.openstreetmap.org/search?format=geojson&limit=5&city=${encodeURI(e)}`;return new Promise((e=>{fetch(t).then((e=>e.json())).then((t=>{e(t.features)})).catch((e=>{console.error(e)}))}))},onResults:({currentValue:e,matches:t,template:o})=>{const r=new RegExp(e,"gi");return 0===t?o:t.map((e=>`\n          <li class="loupe">\n            <p>\n              ${e.properties.display_name.replace(r,(e=>`<b>${e}</b>`))}\n            </p>\n          </li> `)).join("")},onSubmit:({object:t})=>{e.eachLayer((function(t){t.toGeoJSON&&e.removeLayer(t)}));const{display_name:o}=t.properties,[r,n]=t.geometry.coordinates;c={lat:t.geometry.coordinates[0],lng:t.geometry.coordinates[1]},L.marker([n,r],{title:o}).addTo(e).bindPopup(o),e.setView([n,r],8)},onSelectedItem:({index:e,element:t,object:o})=>{},noResults:({currentValue:e,template:t})=>t(`<li>No results found: "${e}"</li>`)})}(M),x.forEach((e=>{e.addEventListener("change",(()=>{localStorage.setItem(e.dataset.type,e.value);const t=e.options[e.selectedIndex].dataset.price;localStorage.setItem(e.dataset.type+"-price",t),console.log(I)}))})),document.addEventListener("DOMContentLoaded",(()=>{localStorage.clear()}));const R=()=>{const e=q.options[q.selectedIndex].dataset.price,t=E.options[E.selectedIndex].dataset.price,o=j.options[j.selectedIndex].dataset.price,l=w.options[w.selectedIndex].dataset.price;I=Number(O.dataset.price)+Number(e)+Number(t)+Number(o)+Number(l),console.log(I),I+=Math.round(r.tI.computeDistanceBetween(n,c)/1e3/1.609),localStorage.setItem("price",I)},N=(e,t)=>{const o=document.createElement("option");return o.innerHTML=`${e[t][0]}`,o.setAttribute("data-price",e[t][1]),o};k.map((e=>{q.insertAdjacentElement("beforeend",N(e,"year")),E.insertAdjacentElement("beforeend",N(e,"make")),j.insertAdjacentElement("beforeend",N(e,"model")),w.insertAdjacentElement("beforeend",N(e,"operable"))}))},38:(e,t,o)=>{var r=o(492);Object.defineProperty(t,"tI",{enumerable:!0,get:function(){return r.default}});o(397),o(143)}},o={};function r(e){var n=o[e];if(void 0!==n)return n.exports;var c=o[e]={exports:{}};return t[e].call(c.exports,c,c.exports,r),c.exports}r.m=t,e=[],r.O=(t,o,n,c)=>{if(!o){var l=1/0;for(u=0;u<e.length;u++){for(var[o,n,c]=e[u],a=!0,s=0;s<o.length;s++)(!1&c||l>=c)&&Object.keys(r.O).every((e=>r.O[e](o[s])))?o.splice(s--,1):(a=!1,c<l&&(l=c));if(a){e.splice(u--,1);var d=n();void 0!==d&&(t=d)}}return t}c=c||0;for(var u=e.length;u>0&&e[u-1][2]>c;u--)e[u]=e[u-1];e[u]=[o,n,c]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={873:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var n,c,[l,a,s]=o,d=0;if(l.some((t=>0!==e[t]))){for(n in a)r.o(a,n)&&(r.m[n]=a[n]);if(s)var u=s(r)}for(t&&t(o);d<l.length;d++)c=l[d],r.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return r.O(u)},o=self.webpackChunkkyrillproject=self.webpackChunkkyrillproject||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var n=r.O(void 0,[321],(()=>r(187)));n=r.O(n)})();